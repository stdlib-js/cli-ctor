/// <reference types="./index.d.ts" />
import e from"minimist";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-noop@esm/index.mjs";function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var o={pkg:{},help:"",title:!0,version:"",updates:!0,argv:null,options:{}};var i=function(e){return Math.floor(e)===e},a=Object.prototype.hasOwnProperty,s=Array.isArray;var l=function(e,t){return"object"!=typeof t||null===t||s(t)?new TypeError("invalid argument. Options must be an object. Value: `"+t+"`."):a.call(t,"pkg")&&(e.pkg=t.pkg,"object"!=typeof e.pkg||null===e.pkg||s(e.pkg))?new TypeError("invalid option. `pkg` option must be an object. Option: `"+e.pkg+"`."):a.call(t,"help")&&(e.help=t.help,"string"!=typeof e.help)?new TypeError("invalid option. `help` option must be a string primitive. Option: `"+e.help+"`."):a.call(t,"version")&&(e.version=t.version,"string"!=typeof e.version)?new TypeError("invalid option. `version` option must be a string primitive. Option: `"+e.version+"`."):a.call(t,"title")&&(e.title=t.title,"string"!=typeof e.title&&"boolean"!=typeof e.title)?new TypeError("invalid option. `title` option must be either a string or boolean primitive. Option: `"+e.title+"`."):a.call(t,"updates")&&(e.updates=t.updates,"boolean"!=typeof e.updates)?new TypeError("invalid option. `updates` option must be a boolean primitive. Option: `"+e.updates+"`."):a.call(t,"argv")&&(e.argv=t.argv,!s(e.argv))?new TypeError("invalid option. `argv` option must be an array. Option: `"+e.argv+"`."):a.call(t,"options")&&(e.options=t.options,"object"!=typeof e.options||null===e.options||s(e.options))?new TypeError("invalid option. `options` option must be a plain object. Option: `"+e.options+"`."):null},p="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}var f=u,v=c;function g(e){if(f===setTimeout)return setTimeout(e,0);if((f===u||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}"function"==typeof p.setTimeout&&(f=setTimeout),"function"==typeof p.clearTimeout&&(v=clearTimeout);var m,h=[],d=!1,b=-1;function y(){d&&m&&(d=!1,m.length?h=m.concat(h):b=-1,h.length&&w())}function w(){if(!d){var e=g(y);d=!0;for(var t=h.length;t;){for(m=h,h=[];++b<t;)m&&m[b].run();b=-1,t=h.length}m=null,d=!1,function(e){if(v===clearTimeout)return clearTimeout(e);if((v===c||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{v(e)}catch(t){try{return v.call(null,e)}catch(t){return v.call(this,e)}}}(e)}}function T(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new k(e,t)),1!==h.length||d||g(w)}function k(e,t){this.fun=e,this.array=t}k.prototype.run=function(){this.fun.apply(null,this.array)};var j={},E=[],O={},x={},_={};function M(){}var L=M,A=M,P=M,V=M,D=M,N=M,z=M;function C(e){throw new Error("process.binding is not supported")}function I(){return"/"}function F(e){throw new Error("process.chdir is not supported")}function S(){return 0}var q=p.performance||{},B=q.now||q.mozNow||q.msNow||q.oNow||q.webkitNow||function(){return(new Date).getTime()};function G(e){var t=.001*B.call(q),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var H=new Date;function J(){return(new Date-H)/1e3}var K={nextTick:T,title:"browser",browser:true,env:j,argv:E,version:"",versions:O,on:L,addListener:A,once:P,off:V,removeListener:D,removeAllListeners:N,emit:z,binding:C,cwd:I,chdir:F,umask:S,hrtime:G,platform:"browser",release:x,config:_,uptime:J},Q=n(Object.freeze({__proto__:null,addListener:A,argv:E,binding:C,browser:true,chdir:F,config:_,cwd:I,default:K,emit:z,env:j,hrtime:G,nextTick:T,off:V,on:L,once:P,platform:"browser",release:x,removeAllListeners:N,removeListener:D,title:"browser",umask:S,uptime:J,version:"",versions:O})),R=console,U=Q.versions.node;var W=function(e,t){var r;(r=U.split("."))[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10),r[0]>0||r[1]>10?e.exitCode=t:(e.exitCode=t,setTimeout((function(){e.exit(t)}),10))},X=r;function Y(){return this instanceof Y?this:new Y}t(Y.prototype,"notify",X);var Z=e,$=o,ee=i,te=l,re=Q,ne=R,oe=W,ie=Y,ae=Object.defineProperty,se=Object.keys;function le(e,t,r){ae(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function pe(e){var t,r,n,o,i,a,s;if(!(this instanceof pe))return arguments.length?new pe(e):new pe;if(n={pkg:{},help:$.help,title:$.title,version:$.version,updates:$.updates,argv:$.argv,options:{}},arguments.length&&(s=te(n,e)))throw s;return a=this,re.stdout.on("error",re.exit),re.stderr.on("error",re.exit),le(this,"args",l),le(this,"flags",p),le(this,"help",u),le(this,"version",c),!0===n.title&&n.pkg?"object"==typeof n.pkg.bin&&null!==n.pkg.bin?(r=se(n.pkg.bin),re.title=r[0]):n.pkg.name&&(re.title=n.pkg.name):n.title&&(re.title=n.title),n.updates&&n.pkg&&n.pkg.name&&n.pkg.version&&(n.pkg,ie().notify()),!n.version&&n.pkg&&n.pkg.version&&(n.version=n.pkg.version),n.argv?n.argv=n.argv.slice(2):n.argv=re.argv.slice(2),o=Z(n.argv,n.options),i=o._,delete o._,(t=o).help?this.help(0):t.version?this.version():this;function l(){return i.slice()}function p(){var e,r,n,o;for(e=se(t),r={},o=0;o<e.length;o++)r[n=e[o]]=t[n];return r}function u(e){ne.error(n.help),a.close(e||0)}function c(){ne.error(n.version),a.close()}}le(pe.prototype,"close",(function(e){if(0!==arguments.length){if("number"!=typeof e||!ee(e)||e<0)throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");oe(re,e)}else oe(re,0)})),le(pe.prototype,"error",(function(e,t){var r;if(!(e instanceof Error))throw new TypeError("invalid argument. First argument must be an error object. Value: `"+e+"`.");if(arguments.length>1){if("number"!=typeof t||!ee(t)||t<0)throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");r=t}else r=1;ne.error("Error: %s",e.message),oe(re,r)})),le(pe.prototype,"exit",(function(e){if(0===arguments.length)return re.exit(0);if("number"!=typeof e||!ee(e)||e<0)throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");re.exit(e)}));var ue=pe;export{ue as default};
//# sourceMappingURL=index.mjs.map
