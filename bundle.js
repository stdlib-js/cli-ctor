// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).CLI=t()}(this,(function(){"use strict";function e(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function t(e){return"number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}var n={pkg:{},help:"",title:!0,version:"",updates:!0,argv:null,options:{}};var r=function(e){return Math.floor(e)===e},o=Object.prototype.hasOwnProperty,i=Array.isArray;var a=function(e,t){return"object"!=typeof t||null===t||i(t)?new TypeError("invalid argument. Options must be an object. Value: `"+t+"`."):o.call(t,"pkg")&&(e.pkg=t.pkg,"object"!=typeof e.pkg||null===e.pkg||i(e.pkg))?new TypeError("invalid option. `pkg` option must be an object. Option: `"+e.pkg+"`."):o.call(t,"help")&&(e.help=t.help,"string"!=typeof e.help)?new TypeError("invalid option. `help` option must be a string primitive. Option: `"+e.help+"`."):o.call(t,"version")&&(e.version=t.version,"string"!=typeof e.version)?new TypeError("invalid option. `version` option must be a string primitive. Option: `"+e.version+"`."):o.call(t,"title")&&(e.title=t.title,"string"!=typeof e.title&&"boolean"!=typeof e.title)?new TypeError("invalid option. `title` option must be either a string or boolean primitive. Option: `"+e.title+"`."):o.call(t,"updates")&&(e.updates=t.updates,"boolean"!=typeof e.updates)?new TypeError("invalid option. `updates` option must be a boolean primitive. Option: `"+e.updates+"`."):o.call(t,"argv")&&(e.argv=t.argv,!i(e.argv))?new TypeError("invalid option. `argv` option must be an array. Option: `"+e.argv+"`."):o.call(t,"options")&&(e.options=t.options,"object"!=typeof e.options||null===e.options||i(e.options))?new TypeError("invalid option. `options` option must be a plain object. Option: `"+e.options+"`."):null},l="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}var p=s,c=u;function f(e){if(p===setTimeout)return setTimeout(e,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}"function"==typeof l.setTimeout&&(p=setTimeout),"function"==typeof l.clearTimeout&&(c=clearTimeout);var v,g=[],h=!1,b=-1;function d(){h&&v&&(h=!1,v.length?g=v.concat(g):b=-1,g.length&&y())}function y(){if(!h){var e=f(d);h=!0;for(var t=g.length;t;){for(v=g,g=[];++b<t;)v&&v[b].run();b=-1,t=g.length}v=null,h=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===u||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function m(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new w(e,t)),1!==g.length||h||f(y)}function w(e,t){this.fun=e,this.array=t}w.prototype.run=function(){this.fun.apply(null,this.array)};var _="browser",k="browser",T={},E=[],j={},O={},x={};function A(){}var P=A,F=A,N=A,L=A,M=A,S=A,V=A;function $(e){throw new Error("process.binding is not supported")}function B(){return"/"}function z(e){throw new Error("process.chdir is not supported")}function C(){return 0}var D=l.performance||{},I=D.now||D.mozNow||D.msNow||D.oNow||D.webkitNow||function(){return(new Date).getTime()};function G(e){var t=.001*I.call(D),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}var Z=new Date;function W(){return(new Date-Z)/1e3}var q={nextTick:m,title:_,browser:true,env:T,argv:E,version:"",versions:j,on:P,addListener:F,once:N,off:L,removeListener:M,removeAllListeners:S,emit:V,binding:$,cwd:B,chdir:z,umask:C,hrtime:G,platform:k,release:O,config:x,uptime:W},H=e(Object.freeze({__proto__:null,addListener:F,argv:E,binding:$,browser:true,chdir:z,config:x,cwd:B,default:q,emit:V,env:T,hrtime:G,nextTick:m,off:L,on:P,once:N,platform:k,release:O,removeAllListeners:S,removeListener:M,title:_,umask:C,uptime:W,version:"",versions:j})),J=console,K=H.versions.node;var Q=function(e,t){var n;(n=K.split("."))[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10),n[0]>0||n[1]>10?e.exitCode=t:(e.exitCode=t,setTimeout((function(){e.exit(t)}),10))},R="function"==typeof Object.defineProperty?Object.defineProperty:null;var U=function(){try{return R({},"x",{}),!0}catch(e){return!1}},X=Object.defineProperty,Y=Object.prototype,ee=Y.toString,te=Y.__defineGetter__,ne=Y.__defineSetter__,re=Y.__lookupGetter__,oe=Y.__lookupSetter__;var ie=X,ae=function(e,t,n){var r,o,i,a;if("object"!=typeof e||null===e||"[object Array]"===ee.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof n||null===n||"[object Array]"===ee.call(n))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+n+"`.");if((o="value"in n)&&(re.call(e,t)||oe.call(e,t)?(r=e.__proto__,e.__proto__=Y,delete e[t],e[t]=n.value,e.__proto__=r):e[t]=n.value),i="get"in n,a="set"in n,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&te&&te.call(e,t,n.get),a&&ne&&ne.call(e,t,n.set),e},le=U()?ie:ae;var se=function(){};function ue(){return this instanceof ue?this:new ue}(function(e,t,n){le(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})})(ue.prototype,"notify",se);var pe=function(e,n){n||(n={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(r.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?r.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(e){r.bools[e]=!0}));var o={};Object.keys(n.alias||{}).forEach((function(e){o[e]=[].concat(n.alias[e]),o[e].forEach((function(t){o[t]=[e].concat(o[e].filter((function(e){return t!==e})))}))})),[].concat(n.string).filter(Boolean).forEach((function(e){r.strings[e]=!0,o[e]&&(r.strings[o[e]]=!0)}));var i=n.default||{},a={_:[]};Object.keys(r.bools).forEach((function(e){s(e,void 0!==i[e]&&i[e])}));var l=[];function s(e,n,i){if(!i||!r.unknownFn||function(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||o[e]}(e,i)||!1!==r.unknownFn(i)){var l=!r.strings[e]&&t(n)?Number(n):n;u(a,e.split("."),l),(o[e]||[]).forEach((function(e){u(a,e.split("."),l)}))}}function u(e,t,n){for(var o=e,i=0;i<t.length-1;i++){if("__proto__"===(a=t[i]))return;void 0===o[a]&&(o[a]={}),o[a]!==Object.prototype&&o[a]!==Number.prototype&&o[a]!==String.prototype||(o[a]={}),o[a]===Array.prototype&&(o[a]=[]),o=o[a]}var a;"__proto__"!==(a=t[t.length-1])&&(o!==Object.prototype&&o!==Number.prototype&&o!==String.prototype||(o={}),o===Array.prototype&&(o=[]),void 0===o[a]||r.bools[a]||"boolean"==typeof o[a]?o[a]=n:Array.isArray(o[a])?o[a].push(n):o[a]=[o[a],n])}function p(e){return o[e].some((function(e){return r.bools[e]}))}-1!==e.indexOf("--")&&(l=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var c=0;c<e.length;c++){var f=e[c];if(/^--.+=/.test(f)){var v=f.match(/^--([^=]+)=([\s\S]*)$/),g=v[1],h=v[2];r.bools[g]&&(h="false"!==h),s(g,h,f)}else if(/^--no-.+/.test(f)){s(g=f.match(/^--no-(.+)/)[1],!1,f)}else if(/^--.+/.test(f)){g=f.match(/^--(.+)/)[1];void 0===(m=e[c+1])||/^-/.test(m)||r.bools[g]||r.allBools||o[g]&&p(g)?/^(true|false)$/.test(m)?(s(g,"true"===m,f),c++):s(g,!r.strings[g]||"",f):(s(g,m,f),c++)}else if(/^-[^-]+/.test(f)){for(var b=f.slice(1,-1).split(""),d=!1,y=0;y<b.length;y++){var m;if("-"!==(m=f.slice(y+2))){if(/[A-Za-z]/.test(b[y])&&/=/.test(m)){s(b[y],m.split("=")[1],f),d=!0;break}if(/[A-Za-z]/.test(b[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(m)){s(b[y],m,f),d=!0;break}if(b[y+1]&&b[y+1].match(/\W/)){s(b[y],f.slice(y+2),f),d=!0;break}s(b[y],!r.strings[b[y]]||"",f)}else s(b[y],m,f)}g=f.slice(-1)[0];d||"-"===g||(!e[c+1]||/^(-|--)[^-]/.test(e[c+1])||r.bools[g]||o[g]&&p(g)?e[c+1]&&/^(true|false)$/.test(e[c+1])?(s(g,"true"===e[c+1],f),c++):s(g,!r.strings[g]||"",f):(s(g,e[c+1],f),c++))}else if(r.unknownFn&&!1===r.unknownFn(f)||a._.push(r.strings._||!t(f)?f:Number(f)),n.stopEarly){a._.push.apply(a._,e.slice(c+1));break}}return Object.keys(i).forEach((function(e){var t,n,r;t=a,n=e.split("."),r=t,n.slice(0,-1).forEach((function(e){r=r[e]||{}})),n[n.length-1]in r||(u(a,e.split("."),i[e]),(o[e]||[]).forEach((function(t){u(a,t.split("."),i[e])})))})),n["--"]?(a["--"]=new Array,l.forEach((function(e){a["--"].push(e)}))):l.forEach((function(e){a._.push(e)})),a},ce=n,fe=r,ve=a,ge=H,he=J,be=Q,de=ue,ye=Object.defineProperty,me=Object.keys;function we(e,t,n){ye(e,t,{configurable:!1,enumerable:!1,writable:!1,value:n})}function _e(e){var t,n,r,o,i,a,l;if(!(this instanceof _e))return arguments.length?new _e(e):new _e;if(r={pkg:{},help:ce.help,title:ce.title,version:ce.version,updates:ce.updates,argv:ce.argv,options:{}},arguments.length&&(l=ve(r,e)))throw l;return a=this,ge.stdout.on("error",ge.exit),ge.stderr.on("error",ge.exit),we(this,"args",s),we(this,"flags",u),we(this,"help",p),we(this,"version",c),!0===r.title&&r.pkg?"object"==typeof r.pkg.bin&&null!==r.pkg.bin?(n=me(r.pkg.bin),ge.title=n[0]):r.pkg.name&&(ge.title=r.pkg.name):r.title&&(ge.title=r.title),r.updates&&r.pkg&&r.pkg.name&&r.pkg.version&&(r.pkg,de().notify()),!r.version&&r.pkg&&r.pkg.version&&(r.version=r.pkg.version),r.argv?r.argv=r.argv.slice(2):r.argv=ge.argv.slice(2),o=pe(r.argv,r.options),i=o._,delete o._,(t=o).help?this.help(0):t.version?this.version():this;function s(){return i.slice()}function u(){var e,n,r,o;for(e=me(t),n={},o=0;o<e.length;o++)n[r=e[o]]=t[r];return n}function p(e){he.error(r.help),a.close(e||0)}function c(){he.error(r.version),a.close()}}return we(_e.prototype,"close",(function(e){if(0!==arguments.length){if("number"!=typeof e||!fe(e)||e<0)throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");be(ge,e)}else be(ge,0)})),we(_e.prototype,"error",(function(e,t){var n;if(!(e instanceof Error))throw new TypeError("invalid argument. First argument must be an error object. Value: `"+e+"`.");if(arguments.length>1){if("number"!=typeof t||!fe(t)||t<0)throw new TypeError("invalid argument. Second argument must be a nonnegative integer. Value: `"+t+"`.");n=t}else n=1;he.error("Error: %s",e.message),be(ge,n)})),we(_e.prototype,"exit",(function(e){if(0===arguments.length)return ge.exit(0);if("number"!=typeof e||!fe(e)||e<0)throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");ge.exit(e)})),_e}));
//# sourceMappingURL=bundle.js.map
