{"version":3,"file":"index.mjs","sources":["../node_modules/minimist/index.js","../lib/is_integer.js","../lib/validate.js","../lib/process.js","../lib/console.js","../lib/exit_code.js","../lib/notifier.js","../lib/main.js","../lib/index.js"],"sourcesContent":["module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        for (var i = 0; i < keys.length-1; i++) {\n            var key = keys[i];\n            if (key === '__proto__') return;\n            if (o[key] === undefined) o[key] = {};\n            if (o[key] === Object.prototype || o[key] === Number.prototype\n                || o[key] === String.prototype) o[key] = {};\n            if (o[key] === Array.prototype) o[key] = [];\n            o = o[key];\n        }\n\n        var key = keys[keys.length - 1];\n        if (key === '__proto__') return;\n        if (o === Object.prototype || o === Number.prototype\n            || o === String.prototype) o = {};\n        if (o === Array.prototype) o = [];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /^(true|false)$/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Tests if a finite double-precision floating-point number is an integer.\n*\n* @private\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is an integer\n*\n* @example\n* var bool = isInteger( 1.0 );\n* // returns true\n*\n* @example\n* var bool = isInteger( 3.14 );\n* // returns false\n*/\nfunction isInteger( x ) {\n\t// NOTE: we explicitly avoid using `@stdlib/math/base/special` here in order to avoid circular dependencies.\n\treturn ( Math.floor( x ) === x ); // eslint-disable-line stdlib/no-builtin-math\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {Options} options - function options\n* @param {Object} [options.pkg] - package meta information (package.json)\n* @param {string} [options.version] - command-line interface version\n* @param {string} [options.help] - help text\n* @param {(string|boolean)} [options.title] - process title or a boolean indicating whether to set the process title\n* @param {boolean} [options.updates] - boolean indicating whether to check if a command-line interface is an outdated version\n* @param {Array} [options.argv] - command-line arguments\n* @param {Options} [options.options] - command-line interface options\n* @returns {(Error|null)} null or an error object\n*\n* @example\n* var opts = {};\n* var options = {\n*     'pkg': {},\n*     'version': '1.0.0',\n*     'help': 'Usage: beep [options] <boop>',\n*     'title': 'foo',\n*     'updates': true\n* };\n* var err = validate( opts, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, options ) {\n\tif ( typeof options !== 'object' || options === null || isArray( options ) ) {\n\t\treturn new TypeError( 'invalid argument. Options must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( hasOwnProp.call( options, 'pkg' ) ) {\n\t\topts.pkg = options.pkg;\n\t\tif ( typeof opts.pkg !== 'object' || opts.pkg === null || isArray( opts.pkg ) ) {\n\t\t\treturn new TypeError( 'invalid option. `pkg` option must be an object. Option: `' + opts.pkg + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'help' ) ) {\n\t\topts.help = options.help;\n\t\tif ( typeof opts.help !== 'string' ) {\n\t\t\treturn new TypeError( 'invalid option. `help` option must be a string primitive. Option: `' + opts.help + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'version' ) ) {\n\t\topts.version = options.version;\n\t\tif ( typeof opts.version !== 'string' ) {\n\t\t\treturn new TypeError( 'invalid option. `version` option must be a string primitive. Option: `' + opts.version + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'title' ) ) {\n\t\topts.title = options.title;\n\t\tif ( typeof opts.title !== 'string' && typeof opts.title !== 'boolean' ) {\n\t\t\treturn new TypeError( 'invalid option. `title` option must be either a string or boolean primitive. Option: `' + opts.title + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'updates' ) ) {\n\t\topts.updates = options.updates;\n\t\tif ( typeof opts.updates !== 'boolean' ) {\n\t\t\treturn new TypeError( 'invalid option. `updates` option must be a boolean primitive. Option: `' + opts.updates + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'argv' ) ) {\n\t\topts.argv = options.argv;\n\t\tif ( !isArray( opts.argv ) ) {\n\t\t\treturn new TypeError( 'invalid option. `argv` option must be an array. Option: `' + opts.argv + '`.' );\n\t\t}\n\t}\n\tif ( hasOwnProp.call( options, 'options' ) ) {\n\t\topts.options = options.options;\n\t\tif ( typeof opts.options !== 'object' || opts.options === null || isArray( opts.options ) ) {\n\t\t\treturn new TypeError( 'invalid option. `options` option must be a plain object. Option: `' + opts.options + '`.' );\n\t\t}\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar proc = require( 'process' );\n\n\n// EXPORTS //\n\nmodule.exports = proc;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// EXPORTS //\n\nmodule.exports = console;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2019 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar proc = require( './process.js' );\n\n\n// VARIABLES //\n\nvar NODE_VERSION = proc.versions.node;\nvar TIMEOUT = 10; // ms\n\n\n// MAIN //\n\n/**\n* Sets the process exit code.\n*\n* @private\n* @param {Object} proc - process object\n* @param {NonNegativeInteger} code - exit code\n* @returns {void}\n*/\nfunction exitCode( proc, code ) {\n\tvar v;\n\n\t// Handle old Node.js versions lacking `process.exitCode` support...\n\tv = NODE_VERSION.split( '.' );\n\tv[ 0 ] = parseInt( v[ 0 ], 10 );\n\tv[ 1 ] = parseInt( v[ 1 ], 10 );\n\n\t// Case: >0.x.x\n\tif ( v[ 0 ] > 0 ) {\n\t\tproc.exitCode = code;\n\t\treturn;\n\t}\n\t// Case: >0.10.x\n\tif ( v[ 1 ] > 10 ) {\n\t\tproc.exitCode = code;\n\t\treturn;\n\t}\n\t// Case: <= 0.10.x\n\tproc.exitCode = code; // NOTE: assigning this property should have no operational effect in older Node.js versions\n\n\t// No choice but to forcefully exit during a subsequent turn of the event loop (note: the timeout duration is arbitrary; the main idea is to hopefully allow the event loop queue to drain before exiting the process, including the flushing of stdio streams which can be non-blocking/asynchronous)...\n\tsetTimeout( onTimeout, TIMEOUT );\n\n\t/**\n\t* Callback invoked during a subsequent turn of the event loop.\n\t*\n\t* @private\n\t*/\n\tfunction onTimeout() {\n\t\tproc.exit( code );\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = exitCode;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n// FIXME: remove this stub and create a stdlib equivalent of update-notifier\n\n'use strict';\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar noop = require( '@stdlib/utils-noop' );\n\n\n// MAIN //\n\n/**\n* Notifier constructor.\n*\n* @private\n* @constructor\n* @returns {Notifier} notifier instance\n*\n* @example\n* var notifier = new Notifier();\n*/\nfunction Notifier() {\n\tif ( !(this instanceof Notifier) ) {\n\t\treturn new Notifier();\n\t}\n\treturn this;\n}\n\n/**\n* Notifies whether a new version is available.\n*\n* @private\n* @name notify\n* @memberof Notifier.prototype\n* @type {Function}\n*/\nsetReadOnly( Notifier.prototype, 'notify', noop );\n\n\n// EXPORTS //\n\nmodule.exports = Notifier;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable stdlib/jsdoc-doctest, no-restricted-syntax */\n\n'use strict';\n\n// MODULES //\n\nvar parseArgs = require( 'minimist' ); // TODO: replace with stdlib equivalent\nvar defaults = require( './defaults.json' );\nvar isInteger = require( './is_integer.js' );\nvar validate = require( './validate.js' );\nvar proc = require( './process.js' );\nvar log = require( './console.js' );\nvar exitCode = require( './exit_code.js' );\nvar notifier = require( './notifier.js' );\n\n\n// VARIABLES //\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies. This should not be problematic as (1) this package is unlikely to be used outside of Node.js and, thus, in environments lacking support for the built-in APIs, and (2) most of the historical bugs for the respective APIs were in environments such as IE and not the versions of V8 included in Node.js >= v0.10.x.\nvar defineProperty = Object.defineProperty;\nvar objectKeys = Object.keys;\n\n\n// FUNCTIONS //\n\n/**\n* Defines a read-only non-enumerable property.\n*\n* @private\n* @param {Object} obj - object on which to define the property\n* @param {(string|symbol)} prop - property name\n* @param {*} value - value to set\n*\n* @example\n* var obj = {};\n*\n* setReadOnly( obj, 'foo', 'bar' );\n*\n* try {\n*     obj.foo = 'boop';\n* } catch ( err ) {\n*     console.error( err.message );\n* }\n*/\nfunction setReadOnly( obj, prop, value ) {\n\tdefineProperty( obj, prop, {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'writable': false,\n\t\t'value': value\n\t});\n}\n\n\n// MAIN //\n\n/**\n* Command-line interface constructor.\n*\n* @constructor\n* @param {Options} [options] - options\n* @param {Object} [options.pkg={}] - package meta information (package.json)\n* @param {string} [options.version] - command-line interface version\n* @param {string} [options.help=\"\"] - help text\n* @param {(string|boolean)} [options.title=true] - process title or a boolean indicating whether to set the process title\n* @param {boolean} [options.updates=true] - boolean indicating whether to check if a command-line interface is an outdated version\n* @param {Array} [options.argv] - command-line arguments\n* @param {Options} [options.options={}] - command-line interface options\n* @throws {TypeError} must provide an object\n* @throws {TypeError} must provide valid options\n* @returns {CLI} command-line interface\n*\n* @example\n* var opts = {\n*     'pkg': require( './path/to/package.json' ),\n*     'help': 'Usage: beep [options] <boop>',\n*     'title': 'foo',\n*     'updates': true,\n*     'options': {\n*         'boolean': [\n*             'help',\n*             'version'\n*         ]\n*     }\n* };\n* var cli = new CLI( opts );\n* // returns <CLI>\n*\n* cli.close();\n*/\nfunction CLI( options ) {\n\tvar nopts;\n\tvar flags;\n\tvar keys;\n\tvar opts;\n\tvar argv;\n\tvar args;\n\tvar self;\n\tvar err;\n\tif ( !( this instanceof CLI ) ) {\n\t\tif ( arguments.length ) {\n\t\t\treturn new CLI( options );\n\t\t}\n\t\treturn new CLI();\n\t}\n\topts = {\n\t\t'pkg': {},\n\t\t'help': defaults.help,\n\t\t'title': defaults.title,\n\t\t'version': defaults.version,\n\t\t'updates': defaults.updates,\n\t\t'argv': defaults.argv,\n\t\t'options': {}\n\t};\n\tif ( arguments.length ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tself = this;\n\n\t// Force the process to exit if an error is encountered when writing to `stdout` or `stderr`:\n\tproc.stdout.on( 'error', proc.exit );\n\tproc.stderr.on( 'error', proc.exit );\n\n\t/**\n\t* Returns parsed command-line arguments.\n\t*\n\t* @name args\n\t* @memberof CLI#\n\t* @type {Function}\n\t* @returns {StringArray} parsed command-line arguments\n\t*\n\t* @example\n\t* var cli = new CLI();\n\t*\n\t* var args = cli.args();\n\t* // returns <Array>\n\t*/\n\tsetReadOnly( this, 'args', getArgs );\n\n\t/**\n\t* Returns parsed command-line flags.\n\t*\n\t* @name flags\n\t* @memberof CLI#\n\t* @type {Function}\n\t* @returns {Object} parsed command-line flags\n\t*\n\t* @example\n\t* var cli = new CLI();\n\t*\n\t* var flags = cli.flags();\n\t* // returns <Object>\n\t*/\n\tsetReadOnly( this, 'flags', getFlags );\n\n\t/**\n\t* Prints usage information and exits the process.\n\t*\n\t* @name help\n\t* @memberof CLI#\n\t* @type {Function}\n\t*\n\t* @example\n\t* var opts = {\n\t*     'help': 'Usage: beep [options] <boop>'\n\t* };\n\t* var cli = new CLI( opts );\n\t*\n\t* cli.help();\n\t* // => 'Usage: beep [options] <boop>'\n\t*/\n\tsetReadOnly( this, 'help', help );\n\n\t/**\n\t* Prints the command-line interface version and exits the process.\n\t*\n\t* @name version\n\t* @memberof CLI#\n\t* @type {Function}\n\t*\n\t* @example\n\t* var opts = {\n\t*     'pkg': require( './path/to/package.json' )\n\t* };\n\t* var cli = new CLI( opts );\n\t*\n\t* cli.version();\n\t* // => '#.#.#'\n\t*/\n\tsetReadOnly( this, 'version', version );\n\n\t// Check whether to set the process title...\n\tif ( opts.title === true && opts.pkg ) {\n\t\tif ( typeof opts.pkg.bin === 'object' && opts.pkg.bin !== null ) {\n\t\t\tkeys = objectKeys( opts.pkg.bin );\n\n\t\t\t// Note: we don't have a way of knowing which command name in the `bin` hash was invoked; thus, we assume the first entry.\n\t\t\tproc.title = keys[ 0 ];\n\t\t} else if ( opts.pkg.name ) {\n\t\t\tproc.title = opts.pkg.name;\n\t\t}\n\t} else if ( opts.title ) {\n\t\tproc.title = opts.title;\n\t}\n\t// Check whether to notify the user of a new CLI version...\n\tif ( opts.updates && opts.pkg && opts.pkg.name && opts.pkg.version ) {\n\t\tnopts = {\n\t\t\t'pkg': opts.pkg\n\t\t};\n\t\tnotifier( nopts ).notify();\n\t}\n\t// Determine the command-line interface version...\n\tif ( !opts.version && opts.pkg && opts.pkg.version ) {\n\t\topts.version = opts.pkg.version;\n\t}\n\t// Parse command-line arguments:\n\tif ( opts.argv ) {\n\t\topts.argv = opts.argv.slice( 2 );\n\t} else {\n\t\topts.argv = proc.argv.slice( 2 );\n\t}\n\targv = parseArgs( opts.argv, opts.options );\n\n\t// Cache parsed arguments:\n\targs = argv._;\n\tdelete argv._;\n\tflags = argv;\n\n\t// Determine whether to print help text...\n\tif ( flags.help ) {\n\t\treturn this.help( 0 );\n\t}\n\t// Determine whether to print the version...\n\tif ( flags.version ) {\n\t\treturn this.version();\n\t}\n\treturn this;\n\n\t/**\n\t* Returns parsed command-line arguments.\n\t*\n\t* @private\n\t* @returns {StringArray} parsed command-line arguments\n\t*/\n\tfunction getArgs() {\n\t\treturn args.slice();\n\t}\n\n\t/**\n\t* Returns parsed command-line flags.\n\t*\n\t* @private\n\t* @returns {Object} parsed command-line flags\n\t*/\n\tfunction getFlags() {\n\t\tvar keys;\n\t\tvar o;\n\t\tvar k;\n\t\tvar i;\n\n\t\tkeys = objectKeys( flags );\n\t\to = {};\n\t\tfor ( i = 0; i < keys.length; i++ ) {\n\t\t\tk = keys[ i ];\n\t\t\to[ k ] = flags[ k ];\n\t\t}\n\t\treturn o;\n\t}\n\n\t/**\n\t* Prints usage information.\n\t*\n\t* ## Notes\n\t*\n\t* -   Upon printing usage information, the function forces the process to exit.\n\t*\n\t* @private\n\t* @param {NonNegativeInteger} [code=0] - exit code\n\t*/\n\tfunction help( code ) {\n\t\tlog.error( opts.help );\n\t\tself.close( code || 0 );\n\t}\n\n\t/**\n\t* Prints the command-line interface version.\n\t*\n\t* ## Notes\n\t*\n\t* -   Upon printing the version, the function forces the process to exit.\n\t*\n\t* @private\n\t*/\n\tfunction version() {\n\t\tlog.error( opts.version );\n\t\tself.close();\n\t}\n}\n\n/**\n* Gracefully exits the command-line interface and the calling process.\n*\n* @name close\n* @memberof CLI.prototype\n* @type {Function}\n* @param {NonNegativeInteger} [code=0] - exit code\n* @throws {TypeError} must provide a nonnegative integer\n* @returns {void}\n*\n* @example\n* var cli = new CLI();\n*\n* // Gracefully exit:\n* cli.close();\n*/\nsetReadOnly( CLI.prototype, 'close', function close( code ) {\n\tif ( arguments.length === 0 ) {\n\t\texitCode( proc, 0 );\n\t\treturn;\n\t}\n\tif ( typeof code !== 'number' || !isInteger( code ) || code < 0 ) {\n\t\tthrow new TypeError( 'invalid argument. Must provide a nonnegative integer. Value: `' + code + '`.' );\n\t}\n\texitCode( proc, code );\n});\n\n/**\n* Exits the command-line interface and the calling process due to an error.\n*\n* ## Notes\n*\n* -   The value assigned to the `message` property of the provided `Error` object is printed to `stderr` prior to exiting the command-line interface and the calling process.\n*\n* @name error\n* @memberof CLI.prototype\n* @type {Function}\n* @param {Error} error - error object\n* @param {NonNegativeInteger} [code=1] - exit code\n* @throws {TypeError} first argument must be an error object\n* @throws {TypeError} second argument must be a nonnegative integer\n* @returns {void}\n*\n* @example\n* var cli = new CLI();\n*\n* // ...\n*\n* // Create an error object:\n* var err = new Error( 'invalid operation' );\n*\n* // Exit the process:\n* cli.error( err, 0 );\n*/\nsetReadOnly( CLI.prototype, 'error', function onError( error, code ) {\n\tvar c;\n\tif ( !( error instanceof Error ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be an error object. Value: `' + error + '`.' );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( typeof code !== 'number' || !isInteger( code ) || code < 0 ) {\n\t\t\tthrow new TypeError( 'invalid argument. Second argument must be a nonnegative integer. Value: `' + code + '`.' );\n\t\t}\n\t\tc = code;\n\t} else {\n\t\tc = 1;\n\t}\n\tlog.error( 'Error: %s', error.message );\n\texitCode( proc, c );\n});\n\n/**\n* Forces the command-line interface (and the calling process) to exit.\n*\n* @name exit\n* @memberof CLI.prototype\n* @type {Function}\n* @param {NonNegativeInteger} [code=0] - exit code\n* @throws {TypeError} must provide a nonnegative integer\n* @returns {void}\n*\n* @example\n* var cli = new CLI();\n*\n* // Forcefully exit:\n* cli.exit();\n*/\nsetReadOnly( CLI.prototype, 'exit', function exit( code ) {\n\tif ( arguments.length === 0 ) {\n\t\treturn proc.exit( 0 );\n\t}\n\tif ( typeof code !== 'number' || !isInteger( code ) || code < 0 ) {\n\t\tthrow new TypeError( 'invalid argument. Must provide a nonnegative integer. Value: `' + code + '`.' );\n\t}\n\tproc.exit( code );\n});\n\n\n// EXPORTS //\n\nmodule.exports = CLI;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Command-line interface (CLI).\n*\n* @module @stdlib/cli-ctor\n*\n* @example\n* var CLI = require( '@stdlib/cli-ctor' );\n*\n* var opts = {\n*     'pkg': require( './path/to/package.json' ),\n*     'help': 'Usage: beep [options] <boop>',\n*     'title': 'foo',\n*     'updates': true,\n*     'options': {\n*         'boolean': [\n*             'help',\n*             'version'\n*         ]\n*     }\n* };\n* var cli = new CLI( opts );\n* // returns <CLI>\n*\n* cli.close();\n*/\n\n// MODULES //\n\nvar CLI = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = CLI;\n"],"names":["isNumber","x","test","is_integer","Math","floor","hasOwnProp","Object","prototype","hasOwnProperty","isArray","Array","validate_1","opts","options","TypeError","call","pkg","help","version","title","updates","argv","process","console_1","console","NODE_VERSION","require$$0","versions","node","exit_code","proc","code","v","split","parseInt","exitCode","setTimeout","exit","noop","require$$1","Notifier","this","parseArgs","args","flags","bools","strings","unknownFn","allBools","concat","filter","Boolean","forEach","key","aliases","keys","alias","y","string","defaults","_","setArg","undefined","notFlags","val","arg","argDefined","value","Number","setKey","obj","o","i","length","String","push","aliasIsBoolean","some","indexOf","slice","m","match","next","letters","broken","j","stopEarly","apply","isInteger","require$$2","validate","require$$3","require$$4","log","require$$5","require$$6","notifier","defineProperty","objectKeys","setReadOnly","prop","configurable","enumerable","writable","CLI","self","err","arguments","stdout","on","stderr","getArgs","getFlags","bin","name","notify","k","error","close","c","Error","message","lib"],"mappings":"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"}